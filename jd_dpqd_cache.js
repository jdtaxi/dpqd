/**
 * cron: 30 11,23 * * *
*/
const $ = new Env('缓存店铺数据-github');
console.log($.time("HH:mm:ss.S----"), '当前版本号', '20241106');

function DB5pFe(){}var z_ivQn=Object['defineProperty'],jxG7Lj,YFsyBl,QzC8CBS,dd6M5e,GzV_GY,meSx7L5,aGF9LQZ,Hb0jbc,W7JNfH,OaYzRR,CCBo3q,KHCLsZ,lhwPc7,nA1clgj,yMGG_op,lYeZXMB,WCZQ1t;function P20pm9(DB5pFe){return jxG7Lj[DB5pFe>-0x8?DB5pFe>0x20?DB5pFe+0x37:DB5pFe>0x20?DB5pFe-0x23:DB5pFe+0x7:DB5pFe-0x51]}jxG7Lj=j4nh4mo();var tNQqDk=[],I2vv1hd=['.yVl5zc*','kwCl','#KgYK"ko$[;vO','g7J.','3VCwk+a','g7J.','u{(o/IXCCQwH]LU;sEm>DWR,5myw51H&msP','|SzE:P&KcpS:(M|&J<f8^l>55b$!8">w:H[KBd*XbJ|Ya33}e1eb)x58qwl}wbHZMST)$X1+`!lt`Y!1H2E&Dx4m:wKcHIvyyp1;b/zO','g7J.','$,Pow"fDX9GM_^eN[0WC5L3ErWbqjZa','_wu*Q','gg1[hXv','_wu*Q','vv"/j:|',P20pm9(-0x7),'[N7=!K4s0I,|10__0=u):iK=XwqC~8aV5t`g!K}n"OP','#K;0::p&<j3LO','#K;0::p&<jloy!.','#K;0::p&f','Y=.HQ','}jw6iia/I','77/:nnF','H=UIm','Zn7Z+!YXZU*gn_/J(N','!QNF.(338C0y92#W`g!suEgb"&P_VW2TnM8+Ggh*#Q.xI)[/@<.;M1@3:bbvN','H=UIm','Q5]Q@*2aQ>,=5b&EkF','.4Sg@LcYO]IWLJ','#K;0::p&f','Z=>$m','BhmH:xndX6RqxgEzaO','rpvrmI(@MeC:KJA;%}{R7},sZQve?n56od;~en.~Na"i6(Z>|R_J2nNwqa~vrQ`)=7}$$R$NV=pHEV";dsV@{Eh,:xq]yiV?naS]_{!.J','77pBk&F','aEc$Un:ub>):=_dX','(}~0p{pp"jm|d^+)vHiHQ',P20pm9(-0x7),'(}~0p{pp"jm|d^o','H:d.I".B71v?O','MEq.`','ypCCrB)CI=(HciR;uT[RI1BZ(!+E"9zsv7lzI','Ufd.+','2Ed.Q','QhpK$;v%R|#6Af','(};p;<1Y0||i.4fCJax.','fGQv!et]~38X]rC','RcE58','(CXJT!F','R$]$2_n&pFfVD[7sm"I7plh(fi+k~J$1.}R$p','~Gc$CiF','3fUIm','h/BTR[nbLCHWi^PiDz:+pU','w=MI>*OYB','Q7MIm','yHJ.','3fUIm','pEV.}T%d_at&O','JhyYy#5+j2eKG=HX`hd.oTu6F}wg$dSz{mTizcRw$[O{*G3N','<[~J(vsb7>%tmP"a&2LB9*6AEro~O','mwPKR~la7>Jq7=OC1"I_<XtA:H0&DqeNU6ViFT1<f','[KaINvPADog<@3lmT2G','8UlQPXv3','C]tP4[jAxot&Q=vA{mc=`"(aq}]$>qj5','y|~$wcG6^]$Jk)sNY=3Q=95;:.LjM3','tqN$KyuM&E_2=C8RQwR0h$7B66h[I^1Q8F','IrX0R!iA/1[`ir>wW=PTM{@+0[FL+xn=4zWBIu`dDb{f;xVa','D5%`z9F','dHM+dyW?^V1d*QJ','uHufU](pd|PcMy1QAL^J<Tq&x>>b8uKC.f%BiqP0f','Vy>+&TP@t]6idx0zk]6_@y6g*1Dld^sa<[bY%ZzoHb=','bq9"NcEmK6[yFz;wJ7NlvXDoHM|yg!GmnF','dcu?h_F','/[<n7H`pO}Jc{<|C"5<n)(>h:HRB4yl','2ElQHY/?:}PX=P','"KvHB[.6*J@aDNo>ckAHi#F','6.[?+^uMqs[?9&kMsCpKiqcduvu<LjXd][pT=','d|sI&(^9pspKd"@W/qwi}noOSYuDz2<pA7<n8{_u!bgq53','77!`j:DAL','A:Ax<n1O','jip*CwiBg}`G6~K5VXyIOrPYrY=x+C5Az53','PcSn<XYAm>DLO','<>h`<r,+^HaXSG','QCHKsrwpu64WB=Sz,y5HQwYoA>.c!;7zz[G','17oTfXMMr1_*`fdR','|`WT=(MYEso0=_o','m+W*[#N}e}$IT(HX:])ea?6ASynvNGFpf"~+6h_O','0L4=.<GA.|a0|f','|LK*C&;O025>cEj1[2cY;kJ?_a72x^Va;LeQi<1gBlGuz3','mctn#T;A@o/!D)eNz|O','QCoB/]!al[N','lwN$D<d&3r2xOCp1G=Nl.TF','^zx_J[/X"b0&fEB','4KW?2*Og&]4Igb(dcLG','|`B*b!kB;}&t0Q*(++{fPN[3','&>b:dwr3kJ|ig=LdB5~:|xLR3MvgJzQ5&GYBPN23','6w3Q:CGM8|Xx`x@+Dr:nd','#!qiY4J?VrK|8y9QIHJp6#jO','yCK.#<??DHy&D)@`iCtPn;w?T>R1wy>w<kB.','XX9"2*J!Do/+)QYQ):DlZ$fpK}ud|do','tqRQE]ZVBo})^3F7<F',')]P?$T,+:}.LrQ@AXC%"d?1OB','vc|LFhxdsMhl%_m5AqtZ{].AA2YBHC/A}}gIaNEBf','$y{_D9IN*1<!_Co','O][B&TeuyvEx^"gp>>3','yy&_#TfNX}YiTGVpv>4Px*VLErs!If','w}oB8^caV.B)oNZ`Y5Dl|h1Mes/P])lzCqKHbbc&rJ>0O','H}on_C1Yv>pBHmzK|c(BTX@1BbB|s<}>zq9B$Ny++yWT4"L','/`yJ;*`}3E','A+%*I"2%]|Uxn_p+EHPl&;LJG','x1*Y8^(pEr@Om)yNGrYl!;vpoa|&JGjg}"^J,(6]:H5G=P2','8yT*a{sd1H}Q]qvR6HsJE]t5i>B:G![p,Gf$Un8hu6%mI^`R','X5E.)]d?aH,MvQIa(He:8{F','`r3+q6=NO6q*jr3CqF',']XpTnn]uAbNlAxh=MnGx$kDoEEpQ)EWXv[on%*F'];YFsyBl=(DB5pFe,z_ivQn,jxG7Lj,QzC8CBS,dd6M5e)=>{if(typeof QzC8CBS===P20pm9(-0x6)){QzC8CBS=MqQMz6}if(typeof dd6M5e==='undefined'){dd6M5e=tNQqDk}if(DB5pFe!==z_ivQn){return dd6M5e[DB5pFe]||(dd6M5e[DB5pFe]=QzC8CBS(I2vv1hd[DB5pFe]))}if(QzC8CBS===void 0x0){YFsyBl=dd6M5e}if(QzC8CBS===YFsyBl){MqQMz6=z_ivQn;return MqQMz6(jxG7Lj)}};function lKpPMx(){return globalThis}function qNqIPD(){return global}function Hk8gAD(){return window}function de9k6K(){return new Function('return this')()}function OfPqqp(z_ivQn=[lKpPMx,qNqIPD,Hk8gAD,de9k6K],YFsyBl,QzC8CBS=[],dd6M5e=0x0,GzV_GY){var meSx7L5=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn>0x11?z_ivQn+0x43:z_ivQn<-0x17?z_ivQn-0x5d:z_ivQn<-0x17?z_ivQn+0x5e:z_ivQn>0x11?z_ivQn-0x1e:z_ivQn+0x16]},0x1);YFsyBl=YFsyBl;try{DB5pFe(YFsyBl=Object,QzC8CBS[P20pm9(0x0)](''.__proto__.constructor.name))}catch(e){}fW6bgH:for(dd6M5e=dd6M5e;dd6M5e<z_ivQn[meSx7L5(-0x14)];dd6M5e++)try{YFsyBl=z_ivQn[dd6M5e]();for(GzV_GY=P20pm9(-0x4);GzV_GY<QzC8CBS.length;GzV_GY++){var aGF9LQZ=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn>0x52?z_ivQn+0x4a:z_ivQn-0x2b]},0x1);if(typeof YFsyBl[QzC8CBS[GzV_GY]]===aGF9LQZ(0x2c)){continue fW6bgH}}return YFsyBl}catch(e){}return YFsyBl||this}DB5pFe(QzC8CBS=OfPqqp()||{},dd6M5e=QzC8CBS.TextDecoder,GzV_GY=QzC8CBS.Uint8Array,meSx7L5=QzC8CBS.Buffer,aGF9LQZ=QzC8CBS.String||String,Hb0jbc=QzC8CBS.Array||Array,W7JNfH=qXV1pV6(()=>{var z_ivQn,YFsyBl,QzC8CBS;function dd6M5e(z_ivQn){return jxG7Lj[z_ivQn>0x37?z_ivQn+0x22:z_ivQn<0x37?z_ivQn<0x37?z_ivQn>0x37?z_ivQn-0x27:z_ivQn-0x10:z_ivQn+0x1f:z_ivQn+0x21]}DB5pFe(z_ivQn=new Hb0jbc(0x80),YFsyBl=aGF9LQZ[dd6M5e(0x14)]||aGF9LQZ.fromCharCode,QzC8CBS=[]);return qXV1pV6(GzV_GY=>{var meSx7L5,Hb0jbc,W7JNfH,OaYzRR;DB5pFe(W7JNfH=GzV_GY[P20pm9(-0x5)],QzC8CBS.length=0x0);for(OaYzRR=P20pm9(-0x4);OaYzRR<W7JNfH;){var CCBo3q=qXV1pV6(GzV_GY=>{return jxG7Lj[GzV_GY<-0x2b?GzV_GY>-0x2b?GzV_GY+0x4d:GzV_GY>-0x2b?GzV_GY+0x17:GzV_GY+0x52:GzV_GY+0x62]},0x1);Hb0jbc=GzV_GY[OaYzRR++];if(Hb0jbc<=0x7f){meSx7L5=Hb0jbc}else{if(Hb0jbc<=0xdf){meSx7L5=(Hb0jbc&0x1f)<<0x6|GzV_GY[OaYzRR++]&dd6M5e(0x15)}else{if(Hb0jbc<=0xef){var KHCLsZ=qXV1pV6(GzV_GY=>{return jxG7Lj[GzV_GY>-0x14?GzV_GY<0x14?GzV_GY+0x13:GzV_GY-0x42:GzV_GY-0x34]},0x1);meSx7L5=(Hb0jbc&0xf)<<KHCLsZ(-0xd)|(GzV_GY[OaYzRR++]&0x3f)<<0x6|GzV_GY[OaYzRR++]&0x3f}else{if(aGF9LQZ[dd6M5e(0x14)]){var lhwPc7=qXV1pV6(GzV_GY=>{return jxG7Lj[GzV_GY<0x10?GzV_GY<0x10?GzV_GY>0x10?GzV_GY-0x2e:GzV_GY>-0x18?GzV_GY+0x17:GzV_GY+0x35:GzV_GY-0x49:GzV_GY-0x26]},0x1);meSx7L5=(Hb0jbc&0x7)<<dd6M5e(0x28)|(GzV_GY[OaYzRR++]&dd6M5e(0x15))<<lhwPc7(-0x11)|(GzV_GY[OaYzRR++]&0x3f)<<0x6|GzV_GY[OaYzRR++]&0x3f}else{DB5pFe(meSx7L5=P20pm9(-0x2),OaYzRR+=P20pm9(0x4))}}}}QzC8CBS[CCBo3q(-0x4b)](z_ivQn[meSx7L5]||(z_ivQn[meSx7L5]=YFsyBl(meSx7L5)))}return QzC8CBS.join('')},0x1)})());function H8HKQt(DB5pFe){return typeof dd6M5e!==P20pm9(-0x6)&&dd6M5e?new dd6M5e().decode(new GzV_GY(DB5pFe)):typeof meSx7L5!==P20pm9(-0x6)&&meSx7L5?meSx7L5.from(DB5pFe).toString('utf-8'):W7JNfH(DB5pFe)}DB5pFe(OaYzRR=YFsyBl(0x3f),CCBo3q=YFsyBl(0x1b),KHCLsZ=YFsyBl(0x10),lhwPc7=YFsyBl(0x1),nA1clgj=[YFsyBl(0x8),YFsyBl(P20pm9(0x1)),YFsyBl(0x38),YFsyBl(0x5c),YFsyBl(0x70)],yMGG_op={uIEte_l:YFsyBl(0x2),U58aDO:YFsyBl(0x61)},lYeZXMB=qXV1pV6(DB5pFe=>{var z_ivQn=qXV1pV6(DB5pFe=>{return jxG7Lj[DB5pFe>-0x10?DB5pFe+0x2c:DB5pFe>-0x10?DB5pFe-0x15:DB5pFe+0x37]},0x1);DB5pFe={Y6RJ0Y7:z_ivQn(-0x1d)};return DB5pFe},0x1)());function WI9zb_(...z_ivQn){var YFsyBl=(z_ivQn,DB5pFe,jxG7Lj,dd6M5e,GzV_GY)=>{if(typeof dd6M5e===P20pm9(-0x6)){dd6M5e=QzC8CBS}if(typeof GzV_GY==='undefined'){GzV_GY=tNQqDk}if(jxG7Lj&&dd6M5e!==QzC8CBS){YFsyBl=QzC8CBS;return YFsyBl(z_ivQn,-P20pm9(0x2),jxG7Lj,dd6M5e,GzV_GY)}if(z_ivQn!==DB5pFe){return GzV_GY[z_ivQn]||(GzV_GY[z_ivQn]=dd6M5e(I2vv1hd[z_ivQn]))}if(DB5pFe){[GzV_GY,DB5pFe]=[dd6M5e(GzV_GY),z_ivQn||jxG7Lj];return YFsyBl(z_ivQn,GzV_GY,jxG7Lj)}if(jxG7Lj==z_ivQn){return DB5pFe[tNQqDk[jxG7Lj]]=YFsyBl(z_ivQn,DB5pFe)}};return z_ivQn[z_ivQn[YFsyBl[P20pm9(0x5)](void 0x0,[0x0])]-0x1];function QzC8CBS(z_ivQn,YFsyBl='iK*^wd:ReZ"jS0;yCJk~VDB.@3cLN7m&b_}v6W`IE)2#os>{%PaqnFr9txhT4!|($[Ou=p1QgfHM?l5XYzUA<,+]8G/',QzC8CBS,dd6M5e,GzV_GY=[],meSx7L5=0x0,aGF9LQZ,Hb0jbc,W7JNfH,OaYzRR){var CCBo3q=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn>0x52?z_ivQn<0x52?z_ivQn+0x56:z_ivQn<0x7a?z_ivQn<0x52?z_ivQn+0x7:z_ivQn-0x53:z_ivQn-0x50:z_ivQn-0x9]},0x1);DB5pFe(QzC8CBS=''+(z_ivQn||''),dd6M5e=QzC8CBS.length,aGF9LQZ=CCBo3q(0x56),Hb0jbc=-0x1);for(W7JNfH=CCBo3q(0x56);W7JNfH<dd6M5e;W7JNfH++){OaYzRR=YFsyBl.indexOf(QzC8CBS[W7JNfH]);if(OaYzRR===-0x1){continue}if(Hb0jbc<0x0){Hb0jbc=OaYzRR}else{var KHCLsZ=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<0x5d?z_ivQn-0x36:z_ivQn+0x6]},0x1);DB5pFe(Hb0jbc+=OaYzRR*0x5b,meSx7L5|=Hb0jbc<<aGF9LQZ,aGF9LQZ+=(Hb0jbc&P20pm9(0xd))>KHCLsZ(0x46)?0xd:KHCLsZ(0x47));do{var lhwPc7=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<-0xd?z_ivQn+0x34:z_ivQn-0x27]},0x1);DB5pFe(GzV_GY.push(meSx7L5&CCBo3q(0x5d)),meSx7L5>>=0x8,aGF9LQZ-=lhwPc7(-0x2c))}while(aGF9LQZ>KHCLsZ(0x4b));Hb0jbc=-0x1}}if(Hb0jbc>-CCBo3q(0x5c)){var nA1clgj=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<-0x4a?z_ivQn-0x27:z_ivQn>-0x22?z_ivQn-0x6:z_ivQn>-0x22?z_ivQn-0x12:z_ivQn+0x49]},0x1);GzV_GY.push((meSx7L5|Hb0jbc<<aGF9LQZ)&nA1clgj(-0x3f))}return H8HKQt(GzV_GY)}}function S3le8Lq(DB5pFe,z_ivQn){switch(WCZQ1t){case-0x25:return!DB5pFe;case-P20pm9(0x4):return typeof DB5pFe;case 0x1:return DB5pFe/z_ivQn;case 0x1e:return DB5pFe+z_ivQn}}function AE3Zc43(DB5pFe){return WI9zb_(DB5pFe=WCZQ1t+(WCZQ1t=DB5pFe,0x0),DB5pFe)}WCZQ1t=WCZQ1t;const ZIMsflr=require('./depend/fn_jddp'),HZaj0s=require('./sendNotify');if(process[YFsyBl[P20pm9(0x5)](void 0x0,[P20pm9(0x2)])][yMGG_op.uIEte_l]&&lYeZXMB.Y6RJ0Y7>-0x58){var AbR2SM,GH0FyP,rJd6kS,tqDj6q;function ydgZjM9(DB5pFe){return jxG7Lj[DB5pFe<-0x2e?DB5pFe<-0x56?DB5pFe+0x4d:DB5pFe>-0x2e?DB5pFe+0x3:DB5pFe+0x55:DB5pFe+0x16]}DB5pFe(AbR2SM=(DB5pFe,z_ivQn,jxG7Lj,YFsyBl,QzC8CBS)=>{if(typeof YFsyBl==='undefined'){YFsyBl=knBjiF}if(typeof QzC8CBS==='undefined'){QzC8CBS=tNQqDk}if(jxG7Lj==YFsyBl){return z_ivQn?DB5pFe[QzC8CBS[z_ivQn]]:tNQqDk[DB5pFe]||(jxG7Lj=QzC8CBS[DB5pFe]||YFsyBl,tNQqDk[DB5pFe]=jxG7Lj(I2vv1hd[DB5pFe]))}if(z_ivQn){[QzC8CBS,z_ivQn]=[YFsyBl(QzC8CBS),DB5pFe||jxG7Lj];return AbR2SM(DB5pFe,QzC8CBS,jxG7Lj)}if(DB5pFe!==z_ivQn){return QzC8CBS[DB5pFe]||(QzC8CBS[DB5pFe]=YFsyBl(I2vv1hd[DB5pFe]))}},GH0FyP=YFsyBl(0x3),rJd6kS={J_Y3FH:YFsyBl(P20pm9(0x6)),[ydgZjM9(-0x46)]:YFsyBl(ydgZjM9(-0x48))},tqDj6q=[YFsyBl(ydgZjM9(-0x4c)),AbR2SM[ydgZjM9(-0x47)](ydgZjM9(-0x42),0x4)],$[YFsyBl(P20pm9(0x6))]=process[tqDj6q[ydgZjM9(-0x52)]][rJd6kS.J_Y3FH],console[GH0FyP](`你已自定义更新助力日期变量 TK_refresh="${$[YFsyBl(0x2)]}",既每月 号更新助力数据。`),$[YFsyBl[ydgZjM9(-0x47)](undefined,0x2)]=$[rJd6kS[ydgZjM9(-0x46)]][tqDj6q[P20pm9(0x2)]]('&'));function knBjiF(z_ivQn,YFsyBl='atfCqhr`sYH>uXBmKJveMj5d<32{4.,zwL*/Q;]~W)#FA@VTZIRU"g%S(}6G1c^n:lD[Pp&ob7Ni0E8k9+x|!y$=?O_',QzC8CBS,dd6M5e,GzV_GY=[],meSx7L5,aGF9LQZ=0x0,Hb0jbc,W7JNfH,OaYzRR){var CCBo3q=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<0x67?z_ivQn-0x40:z_ivQn+0x29]},0x1);DB5pFe(QzC8CBS=''+(z_ivQn||''),dd6M5e=QzC8CBS.length,meSx7L5=CCBo3q(0x43),Hb0jbc=-P20pm9(0x2));for(W7JNfH=CCBo3q(0x43);W7JNfH<dd6M5e;W7JNfH++){var KHCLsZ=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<-0x54?z_ivQn-0x24:z_ivQn>-0x2c?z_ivQn-0x9:z_ivQn<-0x54?z_ivQn+0x2e:z_ivQn>-0x2c?z_ivQn+0x5f:z_ivQn+0x53]},0x1);OaYzRR=YFsyBl.indexOf(QzC8CBS[W7JNfH]);if(OaYzRR===-0x1){continue}if(Hb0jbc<KHCLsZ(-0x50)){Hb0jbc=OaYzRR}else{DB5pFe(Hb0jbc+=OaYzRR*0x5b,meSx7L5|=Hb0jbc<<aGF9LQZ,aGF9LQZ+=(Hb0jbc&0x1fff)>KHCLsZ(-0x43)?0xd:P20pm9(0xa));do{DB5pFe(GzV_GY.push(meSx7L5&0xff),meSx7L5>>=0x8,aGF9LQZ-=0x8)}while(aGF9LQZ>0x7);Hb0jbc=-0x1}}if(Hb0jbc>-0x1){GzV_GY.push((meSx7L5|Hb0jbc<<aGF9LQZ)&P20pm9(0x3))}return H8HKQt(GzV_GY)}}else{var XT4yRNC;function zFFnkC2(DB5pFe){return jxG7Lj[DB5pFe<0x6c?DB5pFe>0x6c?DB5pFe+0x10:DB5pFe<0x44?DB5pFe+0x21:DB5pFe<0x44?DB5pFe-0x41:DB5pFe-0x45:DB5pFe+0x8]}DB5pFe(XT4yRNC=YFsyBl(0x7),$[YFsyBl(P20pm9(0x6))]=[0x1],console[YFsyBl(P20pm9(0xb))](YFsyBl(0x6)),console[YFsyBl(zFFnkC2(0x57))](XT4yRNC))}let xhCPuQ=nA1clgj[0x0];if(WI9zb_(console[nA1clgj[P20pm9(0x2)]](YFsyBl[P20pm9(0x5)](void 0x0,[0x9]),xhCPuQ),xhCPuQ)===YFsyBl.call(void 0x0,0x8)){var lFWZsp,qQZ9jYb;function ftWNvw(DB5pFe){return jxG7Lj[DB5pFe<-0x33?DB5pFe+0x5a:DB5pFe>-0xb?DB5pFe+0x24:DB5pFe<-0xb?DB5pFe<-0x33?DB5pFe+0x46:DB5pFe+0x32:DB5pFe+0x6]}DB5pFe(lFWZsp=(DB5pFe,z_ivQn,jxG7Lj,YFsyBl,QzC8CBS)=>{if(typeof YFsyBl==='undefined'){YFsyBl=IYG7HS}if(typeof QzC8CBS===P20pm9(-0x6)){QzC8CBS=tNQqDk}if(YFsyBl===P20pm9(0xc)){lFWZsp=QzC8CBS}if(jxG7Lj==DB5pFe){return z_ivQn[tNQqDk[jxG7Lj]]=lFWZsp(DB5pFe,z_ivQn)}if(z_ivQn){[QzC8CBS,z_ivQn]=[YFsyBl(QzC8CBS),DB5pFe||jxG7Lj];return lFWZsp(DB5pFe,QzC8CBS,jxG7Lj)}if(YFsyBl===lFWZsp){IYG7HS=z_ivQn;return IYG7HS(jxG7Lj)}if(DB5pFe!==z_ivQn){return QzC8CBS[DB5pFe]||(QzC8CBS[DB5pFe]=YFsyBl(I2vv1hd[DB5pFe]))}},qQZ9jYb=[YFsyBl(P20pm9(0x18)),lFWZsp(0xb)],console[qQZ9jYb[0x0]]=()=>(void 0x0),console[qQZ9jYb[ftWNvw(-0x29)]]=()=>(void 0x0));function IYG7HS(z_ivQn,YFsyBl='v"]@#<7%/>x3{T1g!P2aA|nz$qoVw_B[,Q?Z~*CWpO5yDb:&cM;()lIL=0EN`U}utsFG6h9dXrmH^KkJeRS4ij8+.fY',QzC8CBS,dd6M5e,GzV_GY=[],meSx7L5=0x0,aGF9LQZ=0x0,Hb0jbc,W7JNfH=0x0,OaYzRR){DB5pFe(QzC8CBS=''+(z_ivQn||''),dd6M5e=QzC8CBS.length,Hb0jbc=-0x1);for(W7JNfH=W7JNfH;W7JNfH<dd6M5e;W7JNfH++){OaYzRR=YFsyBl.indexOf(QzC8CBS[W7JNfH]);if(OaYzRR===-ftWNvw(-0x29)){continue}if(Hb0jbc<0x0){Hb0jbc=OaYzRR}else{var CCBo3q=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn>-0x13?z_ivQn-0x10:z_ivQn<-0x13?z_ivQn<-0x13?z_ivQn+0x3a:z_ivQn+0x8:z_ivQn+0x7]},0x1);DB5pFe(Hb0jbc+=OaYzRR*0x5b,meSx7L5|=Hb0jbc<<aGF9LQZ,aGF9LQZ+=(Hb0jbc&CCBo3q(-0x26))>0x58?0xd:0xe);do{var KHCLsZ=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<0x36?z_ivQn<0x36?z_ivQn-0xf:z_ivQn+0x17:z_ivQn-0xe]},0x1);DB5pFe(GzV_GY.push(meSx7L5&CCBo3q(-0x30)),meSx7L5>>=KHCLsZ(0x17),aGF9LQZ-=ftWNvw(-0x2a))}while(aGF9LQZ>0x7);Hb0jbc=-ftWNvw(-0x29)}}if(Hb0jbc>-0x1){GzV_GY.push((meSx7L5|Hb0jbc<<aGF9LQZ)&P20pm9(0x3))}return H8HKQt(GzV_GY)}}else{var vziCA1t={BRljAY:YFsyBl(0xc)};if(xhCPuQ===vziCA1t.BRljAY){var EzXQRm=(DB5pFe,z_ivQn,YFsyBl,QzC8CBS,dd6M5e)=>{if(typeof QzC8CBS===P20pm9(-0x6)){QzC8CBS=ODF2Du}if(typeof dd6M5e==='undefined'){dd6M5e=tNQqDk}if(DB5pFe!==z_ivQn){return dd6M5e[DB5pFe]||(dd6M5e[DB5pFe]=QzC8CBS(I2vv1hd[DB5pFe]))}if(YFsyBl&&QzC8CBS!==ODF2Du){var GzV_GY=qXV1pV6(DB5pFe=>{return jxG7Lj[DB5pFe>-0x5c?DB5pFe<-0x34?DB5pFe>-0x5c?DB5pFe+0x5b:DB5pFe-0x3b:DB5pFe+0x46:DB5pFe+0x4d]},0x1);EzXQRm=ODF2Du;return EzXQRm(DB5pFe,-GzV_GY(-0x52),YFsyBl,QzC8CBS,dd6M5e)}if(YFsyBl==DB5pFe){return z_ivQn[tNQqDk[YFsyBl]]=EzXQRm(DB5pFe,z_ivQn)}if(QzC8CBS===EzXQRm){ODF2Du=z_ivQn;return ODF2Du(YFsyBl)}};console[EzXQRm[P20pm9(0x7)](undefined,0xd)]=()=>(void 0x0);function ODF2Du(z_ivQn,YFsyBl='|Cc1XuEgSBbmeZ"v;0,yW^8J=paz$nV/)?!Nl7`HAU&R~@k_P2<>.G3sdq{%]rhTQ}(D4jio:#fx5F*9ItOLwYKM+6[',QzC8CBS,dd6M5e,GzV_GY=[],meSx7L5=0x0,aGF9LQZ,Hb0jbc,W7JNfH=0x0,OaYzRR){var CCBo3q=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn>0x7e?z_ivQn+0x5f:z_ivQn<0x56?z_ivQn+0x5a:z_ivQn<0x56?z_ivQn-0x27:z_ivQn-0x57]},0x1);DB5pFe(QzC8CBS=''+(z_ivQn||''),dd6M5e=QzC8CBS.length,aGF9LQZ=CCBo3q(0x5a),Hb0jbc=-0x1);for(W7JNfH=W7JNfH;W7JNfH<dd6M5e;W7JNfH++){OaYzRR=YFsyBl.indexOf(QzC8CBS[W7JNfH]);if(OaYzRR===-P20pm9(0x2)){continue}if(Hb0jbc<0x0){Hb0jbc=OaYzRR}else{var KHCLsZ=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn>0x79?z_ivQn+0x32:z_ivQn-0x52]},0x1);DB5pFe(Hb0jbc+=OaYzRR*0x5b,meSx7L5|=Hb0jbc<<aGF9LQZ,aGF9LQZ+=(Hb0jbc&0x1fff)>0x58?0xd:0xe);do{var lhwPc7=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<0x4?z_ivQn+0x21:z_ivQn>0x2c?z_ivQn+0x3c:z_ivQn>0x2c?z_ivQn+0x55:z_ivQn-0x5]},0x1);DB5pFe(GzV_GY.push(meSx7L5&lhwPc7(0xf)),meSx7L5>>=0x8,aGF9LQZ-=0x8)}while(aGF9LQZ>CCBo3q(0x6c));Hb0jbc=-KHCLsZ(0x5b)}}if(Hb0jbc>-0x1){GzV_GY.push((meSx7L5|Hb0jbc<<aGF9LQZ)&0xff)}return H8HKQt(GzV_GY)}}else{if(xhCPuQ===YFsyBl(0xe)){console[YFsyBl(0xc)]=()=>(void 0x0)}}};let i5QFBx=YFsyBl(0xf);if(process[lhwPc7][KHCLsZ]){var Sdjni5,SaUHl2,ugPYav;function z8Tp2k(DB5pFe){return jxG7Lj[DB5pFe>0x38?DB5pFe>0x38?DB5pFe>0x38?DB5pFe-0x39:DB5pFe+0x44:DB5pFe-0x46:DB5pFe-0x3b]}DB5pFe(Sdjni5=YFsyBl(z8Tp2k(0x50)),SaUHl2=[YFsyBl.apply(void 0x0,[0x11])],ugPYav={[P20pm9(0xf)]:YFsyBl(0x1)},$[YFsyBl(0x10)]=process[ugPYav[P20pm9(0xf)]][YFsyBl(P20pm9(0x10))]||'',$[YFsyBl(0x11)]=process[YFsyBl(0x1)][SaUHl2[0x0]]||'',$[YFsyBl(P20pm9(0x11))]={id:$[Sdjni5],[YFsyBl(0x13)]:$[YFsyBl(0x11)]})}else{var jY_bXw=(DB5pFe,z_ivQn,YFsyBl,QzC8CBS,dd6M5e)=>{var GzV_GY=qXV1pV6(DB5pFe=>{return jxG7Lj[DB5pFe>0x2d?DB5pFe<0x2d?DB5pFe+0x29:DB5pFe<0x2d?DB5pFe-0x1c:DB5pFe<0x55?DB5pFe-0x2e:DB5pFe-0x53:DB5pFe-0x2b]},0x1);if(typeof QzC8CBS===P20pm9(-0x6)){QzC8CBS=kFadUm2}if(typeof dd6M5e===GzV_GY(0x2f)){dd6M5e=tNQqDk}if(QzC8CBS===void 0x0){jY_bXw=dd6M5e}if(z_ivQn){[dd6M5e,z_ivQn]=[QzC8CBS(dd6M5e),DB5pFe||YFsyBl];return jY_bXw(DB5pFe,dd6M5e,YFsyBl)}if(YFsyBl==DB5pFe){return z_ivQn[tNQqDk[YFsyBl]]=jY_bXw(DB5pFe,z_ivQn)}if(DB5pFe!==z_ivQn){return dd6M5e[DB5pFe]||(dd6M5e[DB5pFe]=QzC8CBS(I2vv1hd[DB5pFe]))}if(QzC8CBS===jY_bXw){kFadUm2=z_ivQn;return kFadUm2(YFsyBl)}};if(process[YFsyBl(0x1)][jY_bXw[P20pm9(0x5)](void 0x0,[0x14])]){var __6vyo,MtFrQ8E;function UBl8Nm(DB5pFe){return jxG7Lj[DB5pFe>0x19?DB5pFe-0x1a:DB5pFe-0x4d]}DB5pFe(__6vyo=jY_bXw(UBl8Nm(0x33)),MtFrQ8E=[jY_bXw(UBl8Nm(0x33))],$[jY_bXw(UBl8Nm(0x33))]=process[YFsyBl(0x1)][jY_bXw[UBl8Nm(0x28)](UBl8Nm(0x2d),0x14)],$[jY_bXw(UBl8Nm(0x33))]=$[YFsyBl(0x15)]($[MtFrQ8E[0x0]],$[__6vyo]))}else{console[YFsyBl(P20pm9(0x1))]($[YFsyBl(P20pm9(0x13))](jY_bXw(0x17)),jY_bXw(0x18))}function kFadUm2(z_ivQn,YFsyBl='NMrDIcFVfHSlbRYJCkXdUPEnoqgZQmajLs9TBKpO4G@At(hz:|Wi3^#,x7_0$2&<?vy18][5~>;6!"u}/w%`=).+{*e',QzC8CBS,dd6M5e,GzV_GY=[],meSx7L5=0x0,aGF9LQZ,Hb0jbc,W7JNfH,OaYzRR){var CCBo3q=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn>-0x3a?z_ivQn>-0x3a?z_ivQn<-0x12?z_ivQn>-0x3a?z_ivQn+0x39:z_ivQn-0x2f:z_ivQn-0x37:z_ivQn-0x27:z_ivQn+0x2c]},0x1);DB5pFe(QzC8CBS=''+(z_ivQn||''),dd6M5e=QzC8CBS.length,aGF9LQZ=CCBo3q(-0x36),Hb0jbc=-0x1);for(W7JNfH=P20pm9(-0x4);W7JNfH<dd6M5e;W7JNfH++){var KHCLsZ=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn>0x81?z_ivQn+0x5:z_ivQn<0x81?z_ivQn<0x59?z_ivQn-0x1a:z_ivQn-0x5a:z_ivQn+0x63]},0x1);OaYzRR=YFsyBl.indexOf(QzC8CBS[W7JNfH]);if(OaYzRR===-KHCLsZ(0x63)){continue}if(Hb0jbc<0x0){Hb0jbc=OaYzRR}else{DB5pFe(Hb0jbc+=OaYzRR*CCBo3q(-0x15),meSx7L5|=Hb0jbc<<aGF9LQZ,aGF9LQZ+=(Hb0jbc&KHCLsZ(0x6e))>0x58?0xd:KHCLsZ(0x6b));do{var lhwPc7=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<0x3?z_ivQn>0x3?z_ivQn+0x2e:z_ivQn<-0x25?z_ivQn-0x1c:z_ivQn>0x3?z_ivQn+0x39:z_ivQn+0x24:z_ivQn+0x55]},0x1);DB5pFe(GzV_GY.push(meSx7L5&0xff),meSx7L5>>=CCBo3q(-0x31),aGF9LQZ-=lhwPc7(-0x1c))}while(aGF9LQZ>CCBo3q(-0x24));Hb0jbc=-P20pm9(0x2)}}if(Hb0jbc>-P20pm9(0x2)){GzV_GY.push((meSx7L5|Hb0jbc<<aGF9LQZ)&0xff)}return H8HKQt(GzV_GY)}}DB5pFe(console[YFsyBl(P20pm9(0x1))]($[YFsyBl(0x19)](YFsyBl(0x1a)),CCBo3q,$[YFsyBl(P20pm9(0x15))].id),S3le8Lq((async()=>{var z_ivQn,QzC8CBS,dd6M5e,GzV_GY,meSx7L5;function aGF9LQZ(z_ivQn){return jxG7Lj[z_ivQn>0x75?z_ivQn+0x39:z_ivQn<0x4d?z_ivQn+0x31:z_ivQn<0x4d?z_ivQn-0x38:z_ivQn>0x75?z_ivQn+0x5a:z_ivQn-0x4e]}DB5pFe(z_ivQn=(QzC8CBS,dd6M5e,GzV_GY,meSx7L5,aGF9LQZ)=>{if(typeof meSx7L5==='undefined'){meSx7L5=lhwPc7}if(typeof aGF9LQZ==='undefined'){aGF9LQZ=tNQqDk}if(QzC8CBS!==dd6M5e){return aGF9LQZ[QzC8CBS]||(aGF9LQZ[QzC8CBS]=meSx7L5(I2vv1hd[QzC8CBS]))}if(meSx7L5===void 0x0){z_ivQn=aGF9LQZ}if(meSx7L5===z_ivQn){lhwPc7=dd6M5e;return lhwPc7(GzV_GY)}if(GzV_GY&&meSx7L5!==lhwPc7){z_ivQn=lhwPc7;return z_ivQn(QzC8CBS,-0x1,GzV_GY,meSx7L5,aGF9LQZ)}},QzC8CBS=z_ivQn(0x2c),dd6M5e=YFsyBl(P20pm9(0x1a)),GzV_GY={N7hKxDU:YFsyBl(P20pm9(0x14)),j4njM_:YFsyBl.apply(void 0x0,[aGF9LQZ(0x56)]),[P20pm9(0x19)]:YFsyBl.call(void 0x0,0x23),JYpxqm6:YFsyBl(0x2e)},meSx7L5=[YFsyBl(aGF9LQZ(0x69)),YFsyBl(0x21),YFsyBl(0x22),YFsyBl(aGF9LQZ(0x6a)),YFsyBl(aGF9LQZ(0x6a))]);if(S3le8Lq(await ZIMsflr[YFsyBl(0x1d)](YFsyBl(P20pm9(0x1e))),WCZQ1t=-0x25)){var Hb0jbc,W7JNfH,OaYzRR;function CCBo3q(z_ivQn){return jxG7Lj[z_ivQn<-0xf?z_ivQn+0x16:z_ivQn<0x19?z_ivQn+0xe:z_ivQn-0x2f]}DB5pFe(Hb0jbc=YFsyBl.apply(aGF9LQZ(0x61),[0x1f]),W7JNfH={[CCBo3q(0xf)]:YFsyBl(0x1a)},OaYzRR=YFsyBl(0x8));return WI9zb_(console[OaYzRR]($[YFsyBl(CCBo3q(0xd))](W7JNfH[aGF9LQZ(0x6b)]),Hb0jbc),i5QFBx+=YFsyBl(0x1f),P20pm9(0xc))};let KHCLsZ=WI9zb_(console[YFsyBl(aGF9LQZ(0x56))]($[meSx7L5[P20pm9(-0x4)]](YFsyBl(P20pm9(0x1c))),S3le8Lq($[YFsyBl(0x1c)].id,AE3Zc43(-0x3)),`TK_SIGN.id:${$[YFsyBl(0x20)]($[YFsyBl(aGF9LQZ(0x6a))].id)}`),console[YFsyBl(P20pm9(0x1))](`\n获取 jd_code_info.json......\n`),jd_code_info=await ZIMsflr[meSx7L5[0x1]](meSx7L5[P20pm9(0x6)]),console[YFsyBl(P20pm9(0x1b))]($[GzV_GY.N7hKxDU](YFsyBl(0x1a)),YFsyBl(P20pm9(0x17)),jd_code_info),await ZIMsflr[YFsyBl(P20pm9(0x1f))](jd_code_info,YFsyBl[P20pm9(0x5)](void 0x0,[0x26]),YFsyBl(P20pm9(0x17))),i5QFBx+=YFsyBl.apply(P20pm9(0xc),[0x27]),await $[YFsyBl(0x28)](0x3e8),Math[YFsyBl(0x29)](S3le8Lq($[meSx7L5[aGF9LQZ(0x59)]].id*aGF9LQZ(0x57),P20pm9(0x18),WCZQ1t=aGF9LQZ(0x57))));if(WI9zb_(console[GzV_GY.j4njM_](`\n获取 jd_dpqd_info${KHCLsZ}.json......\n`),jd_dpqd_info=await ZIMsflr[YFsyBl(0x21)](`jd_dpqd_info${KHCLsZ}.json`),console[GzV_GY[P20pm9(0x19)]]($[YFsyBl(P20pm9(0x14))](YFsyBl(0x1a)),`jd_dpqd_info${KHCLsZ}.json`,jd_dpqd_info),jd_activity_info={[YFsyBl(aGF9LQZ(0x6f))]:jd_dpqd_info[YFsyBl(0x2a)],[YFsyBl(0x2b)]:jd_dpqd_info[YFsyBl[P20pm9(0x5)](P20pm9(0xc),[0x2b])][$[meSx7L5[0x4]].id]},console[YFsyBl(aGF9LQZ(0x70))]($[YFsyBl.call(void 0x0,aGF9LQZ(0x69))](YFsyBl(P20pm9(0x1c))),`jd_dpqd_info${KHCLsZ}.json`,jd_activity_info),await ZIMsflr[YFsyBl(0x25)](jd_activity_info,YFsyBl(0x26),YFsyBl(0x2b)),jd_dpqd_info={[YFsyBl(0x2a)]:jd_dpqd_info[dd6M5e],[z_ivQn.call(void 0x0,0x2c)]:jd_dpqd_info[z_ivQn(0x2c)][$[YFsyBl(aGF9LQZ(0x6a))].id]},console[YFsyBl(0x23)]($[YFsyBl(aGF9LQZ(0x69))](YFsyBl(aGF9LQZ(0x71))),`jd_dpqd_info${KHCLsZ}.json`,jd_dpqd_info),await ZIMsflr[YFsyBl(0x25)](jd_dpqd_info,z_ivQn[aGF9LQZ(0x5c)](void 0x0,0x2d),QzC8CBS,$[YFsyBl(P20pm9(0x14))](GzV_GY.JYpxqm6)),i5QFBx+=z_ivQn(0x2f),i5QFBx)){await Ma0IEaI()};function lhwPc7(z_ivQn,QzC8CBS='a9w<!N_hv5R`GCTk)l;@6jB2]8F^?+:*pz%QO&f${07}AucmUx(Zy#V".LnKo3I=4X1YDMi~g[|>W,/ebsSrqJPHEdt',dd6M5e,GzV_GY,meSx7L5=[],Hb0jbc,W7JNfH=0x0,OaYzRR,CCBo3q=0x0,KHCLsZ){var lhwPc7=qXV1pV6(z_ivQn=>{return jxG7Lj[z_ivQn<-0x5f?z_ivQn-0x2d:z_ivQn+0x5e]},0x1);DB5pFe(dd6M5e=''+(z_ivQn||''),GzV_GY=dd6M5e.length,Hb0jbc=lhwPc7(-0x5b),OaYzRR=-P20pm9(0x2));for(CCBo3q=CCBo3q;CCBo3q<GzV_GY;CCBo3q++){KHCLsZ=QzC8CBS.indexOf(dd6M5e[CCBo3q]);if(KHCLsZ===-aGF9LQZ(0x57)){continue}if(OaYzRR<0x0){OaYzRR=KHCLsZ}else{DB5pFe(OaYzRR+=KHCLsZ*P20pm9(0x1d),Hb0jbc|=OaYzRR<<W7JNfH,W7JNfH+=(OaYzRR&0x1fff)>0x58?0xd:0xe);do{DB5pFe(meSx7L5.push(Hb0jbc&P20pm9(0x3)),Hb0jbc>>=aGF9LQZ(0x56),W7JNfH-=0x8)}while(W7JNfH>0x7);OaYzRR=-aGF9LQZ(0x57)}}if(OaYzRR>-lhwPc7(-0x55)){meSx7L5.push((Hb0jbc|OaYzRR<<W7JNfH)&lhwPc7(-0x54))}return H8HKQt(meSx7L5)}})()[YFsyBl.call(void 0x0,0x30)](DB5pFe=>(($[YFsyBl(P20pm9(0x1))]('',S3le8Lq('❌ '+$[YFsyBl(0x31)]+YFsyBl(0x32)+DB5pFe,'!',AE3Zc43(P20pm9(0x1e))),'')),void 0x0))[YFsyBl(0x33)](()=>{var DB5pFe=YFsyBl(0x34);$[DB5pFe]()}),WCZQ1t=-P20pm9(0x1f)));async function Ma0IEaI(){var z_ivQn;function QzC8CBS(z_ivQn){return jxG7Lj[z_ivQn>0x37?z_ivQn<0x37?z_ivQn+0x1f:z_ivQn-0x38:z_ivQn-0x56]}DB5pFe(z_ivQn=[YFsyBl[QzC8CBS(0x44)](void 0x0,[0x37])],$[YFsyBl(0x35)]($[YFsyBl[P20pm9(0x5)](P20pm9(0xc),[0x36])],'',`${i5QFBx}`),await HZaj0s[z_ivQn[0x0]](`${$[YFsyBl(0x36)]} `,`\n${i5QFBx}`))};function MqQMz6(z_ivQn,jxG7Lj='FO3GfPLBJ.lU}o2E)1aM>DW5dm=Q`+pKIeXgNC(zwAR7Skhuq_Z:?YHTv]byrj[6V|stc<!"xin0*${#&;~^49%@8,/',YFsyBl,QzC8CBS,dd6M5e=[],GzV_GY=0x0,meSx7L5=0x0,aGF9LQZ,Hb0jbc=0x0,W7JNfH){DB5pFe(YFsyBl=''+(z_ivQn||''),QzC8CBS=YFsyBl.length,aGF9LQZ=-P20pm9(0x2));for(Hb0jbc=Hb0jbc;Hb0jbc<QzC8CBS;Hb0jbc++){W7JNfH=jxG7Lj.indexOf(YFsyBl[Hb0jbc]);if(W7JNfH===-P20pm9(0x2)){continue}if(aGF9LQZ<0x0){aGF9LQZ=W7JNfH}else{DB5pFe(aGF9LQZ+=W7JNfH*0x5b,GzV_GY|=aGF9LQZ<<meSx7L5,meSx7L5+=(aGF9LQZ&0x1fff)>0x58?0xd:0xe);do{DB5pFe(dd6M5e.push(GzV_GY&P20pm9(0x3)),GzV_GY>>=0x8,meSx7L5-=P20pm9(0x1))}while(meSx7L5>0x7);aGF9LQZ=-P20pm9(0x2)}}if(aGF9LQZ>-P20pm9(0x2)){dd6M5e.push((GzV_GY|aGF9LQZ<<meSx7L5)&0xff)}return H8HKQt(dd6M5e)}function j4nh4mo(){return['EE2K<xF','undefined','length',0x0,'fromCodePoint',0x3f,0xc,'push',0x8,0x1,0xff,0x3,'apply',0x2,'call','Z4ox3dU',0x58,0xe,0x5,void 0x0,0x1fff,0x7,'zD8oGn',0x10,0x12,0x14,0x16,0x19,0x1c,'Sm1lqj',0x24,0xa,'zgGKXYT',0x2a,0x23,0x1a,0x5b,0x1e,0x25]}function qXV1pV6(DB5pFe,jxG7Lj=0x0){var YFsyBl=function(){return DB5pFe(...arguments)};return z_ivQn(YFsyBl,'length',{'value':jxG7Lj,'configurable':true})}

function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
